import enum


class DAG:
    class Tasks:
        EX_ADJUST = "ex_adjust"
        MAX_ATTEMPTS = 3
        QUEUE = "all.q"
        PROJECT = "proj_epic"
        SAVE = "save"
        UPLOAD = "upload"
        SPLIT = "split"
        MODELED_PROPORTION = "modeled_proportion"
        SUPER_SQUEEZE = "super_squeeze"
        COVID_SCALING = 'covid_scaling'


class FilePaths:
    BEST_MODELS_FILE_PATTERN: str = 'best_models.csv'
    INPUT_FILES_DIR: str = "FILEPATH"
    DATA_DIR = "FILEPATH"
    SCALAR_DIR = "FILEPATH"

    class Maps:
        EXCLUSIVITY = "exclusivity.json"
        SUPER_SQUEEZE = "super_squeeze.json"
        SEVERITY_SPLIT = "severity_splits.json"
        MODELED_SPLIT = "modeled_proportion_severity_splits.json"
        COVID_SCALING = "covid_scaling.json"
        COMO = "como.json"


class MEIDS:
    FEMALE_ONLY = [
        1538, 1539, 1540, 1631, 1632, 1637, 1638, 1643, 1644, 2065, 2066, 2067, 2074, 2075,
        2081, 2082, 2083, 2084, 2676, 2889, 2934, 2914, 2915, 2916, 2917, 2935, 2936, 2937,
        3089, 9671, 9672, 9673, 9674, 9675, 9676, 19806
    ]
    # maternal hemorrhage MEs present as incidence, but need to be saved as prevalence
    INCIDENCE_TO_PREVALENCE = [1538, 1539, 1540]
    PREVALENCE_ONLY = [
        16384, 16385, 16386, 16387, 16388, 16389, 16409, 16410, 16411, 16412, 16413, 16414, 16415, 16416, 3262, 11410, 11411, 11412, 11419, 11449, 11455, 11461, 3343, 3344, 3345, 3359, 11544, 25413, 25416, 25417, 25418, 25419, 25420, 25421, 25422, 25423, 25424, 25425, 25430, 25456, 25459, 25460, 25461, 25462, 25463, 25464, 25465, 25466, 25467, 25468, 25473, 25499, 25502, 25503, 25504, 25505, 25506, 25507, 25508, 25509, 25510, 25511, 25516, 19728, 19729, 25542, 25545, 25546, 25547, 25548, 25549, 25550, 25551, 25552, 25553, 25554, 25559, 25671, 25672, 25673, 25674, 25675, 11117, 1178, 1179, 1180, 2678, 25763, 25764, 25765, 25766, 2679, 25767, 25769, 25770, 25771, 25772, 25773, 25776, 25777, 25778, 25779, 25781, 25783, 25784, 25785, 25786, 25787, 25789, 25790, 25791, 25792, 25793, 25795, 25796, 25797, 25798, 25799, 25801, 25802, 25803, 25804, 25805, 25807, 25808, 25809, 25810, 25811, 25813, 25814, 25815, 25816, 25817, 25819, 25820, 25821, 25822, 25823, 25825, 25826, 25827, 25828, 25829, 25835, 25775, 25885, 25887, 25889, 25891, 25893, 25894, 25895, 25898, 25899, 25901, 25902, 25904, 25905, 25906, 25908, 25909, 25915, 25916, 25917, 25918, 25920, 25921, 25922, 25924, 25925, 25926, 2711, 25928, 25930, 25929, 25932, 25933, 25934, 25935, 25936, 25937, 25938, 25931, 25940, 25941, 25942, 25944, 25945, 25946, 25948, 25949, 25950, 25951, 25952, 25953, 25955, 25956, 25957, 25959, 25960, 25961, 2718, 25963, 25964, 25965, 25967, 25968, 25969, 25979, 25980, 25981, 25982, 25983, 25984, 25985, 25986, 25987, 25988, 25989, 9606, 9607, 9608, 9609, 9610, 9611, 9612, 9613, 9614, 9615, 9616, 25992, 25993, 25994, 25995, 25996, 25998, 25999, 26000, 26002, 26006, 26007, 26004, 26012, 26015, 26016, 26017, 26014, 26019, 26020, 26021, 1455, 1456, 1457, 1476, 1477, 1478, 1522, 1523, 1524, 1530, 26139, 26140, 26141, 26142, 1582, 1583, 26160, 26168, 9808, 9809, 9810, 9811, 9812, 9813, 9814, 9815, 9816, 9817, 9818, 9832, 9833, 9834, 9835, 9836, 9837, 9838, 9839, 9840, 9841, 9842, 9938, 9939, 9940, 9944, 9945, 9948, 9949, 9950, 9954, 9955, 1811, 1812, 1813, 1821, 1822, 1823, 1850, 1851, 1852, 1865, 1866, 1867, 1869, 1870, 1871, 1876, 1877, 1878, 1883, 1884, 1885, 1890, 1891, 1892, 1897, 1898, 1899, 1904, 1905, 1906, 2681, 1915, 1916, 1917, 1945, 1946, 10142, 10143, 10144, 10145, 10146, 10147, 10148, 10149, 10150, 10151, 10152, 10153, 10154, 10155, 10156, 1972, 1973, 1974, 10172, 10173, 10174, 10175, 10176, 10177, 10178, 2684, 10180, 10179, 10182, 10183, 10184, 10181, 10185, 10186, 2034, 10233, 2042, 10234, 10235, 10236, 10238, 10237, 10240, 10241, 2050, 10242, 10243, 10244, 10246, 10247, 10245, 10263, 10264, 10265, 10266, 10267, 10268, 10269, 10270, 10271, 10272, 10273, 10274, 10275, 10276, 2085, 10277, 2087, 2089, 2094, 2095, 2096, 2097, 2100, 2103, 2112, 2113, 2114, 2115, 2116, 2117, 2118, 2122, 2123, 2124, 2134, 2135, 2136, 10327, 10328, 10329, 2162, 2163, 2164, 2165, 2166, 2167, 2207, 2208, 2213, 2214, 2218, 18741, 10239, 18845, 18846, 18847, 18849, 18850, 18851, 18852, 18853, 18854, 18855, 18857, 18858, 18859, 2475, 2477, 2476, 2478, 2480, 2479, 2481, 2482, 2484, 2483, 2485, 2486, 2488, 2489, 2490, 2491, 2487, 2501, 2505, 2506, 2507, 2508, 2653, 2659, 10869, 10870, 10871, 2680, 10872, 10873, 10874, 10875, 10876, 10877, 10878, 10879, 10880, 2689, 2685, 2683, 2693, 2694, 2688, 2692, 2697, 2698, 2700, 2701, 2702, 2703, 2705, 2706, 10897, 2708, 2709, 10898, 10899, 2712, 10900, 10901, 10902, 10903, 10904, 10906, 10905, 10908, 10907, 2720, 2721, 2723, 2722, 2717, 2719, 2725, 2729, 2730, 2731, 2728, 2733, 2735, 2736, 2737, 2739, 2742, 2743, 2744, 2746, 2749, 2750, 2751, 2753, 2754, 2756, 2757, 2758, 2759, 2761, 2762, 2797, 2855, 11077, 11078, 11079, 11080, 11081, 11082, 11083, 11084, 11085, 11086, 11087, 11088, 11089, 11090, 11091, 11092, 2907, 2909, 2910, 2912, 23392, 23393, 23394, 11108, 11109, 11110, 2911, 11113, 11114, 11115, 11116, 23397, 23398, 23399, 23402, 23403, 23404, 23407, 23409, 11118, 11121, 11122, 11123, 11124, 23415, 23421, 23422, 23423, 23424, 23425, 2949, 2950, 2951, 2952, 2953, 2954, 23433, 23431, 23434, 23435, 23432, 23441, 11154, 11155, 11156, 11157, 11158, 11159, 11160, 11161, 11162, 11163, 11164, 11165, 11166, 11167, 11168, 11169, 11170, 11171, 11172, 11173, 11185, 11189, 11190, 11191, 3000, 11192, 11193, 3002, 3003, 3004, 19390, 3005, 3006, 19393, 19394, 19392, 19395, 19391, 19397, 19398, 19396, 3021, 19407, 19408, 11216, 11217, 11218, 11219, 11220, 11221, 11222, 11223, 11224, 19418, 19419, 19420, 19421, 19423, 19425, 19431, 19432, 19435, 19436, 19437, 19438, 19430, 3067, 3068, 3069, 3070, 3071, 11268, 11269, 11270, 11271, 11272, 11273, 11274, 11275, 11276, 11277, 11278, 11279, 11280, 11281, 11282, 11283, 11284, 11285, 11286, 11287, 11288, 11289, 23411, 11290, 11291, 11292, 23412, 11293, 11294, 11295, 23413, 11296, 3112, 3113, 3114, 3115, 3116, 23414, 11301, 11302, 11303, 11304, 11305, 11306, 11307, 11308, 11309, 11310, 11311, 3123, 3137, 3138, 3139, 19579, 19580, 19581, 19583, 19584, 19585, 11393, 11394, 19588, 19589, 19590, 11395, 11396, 11397, 11398, 11399, 11400, 11401, 11402, 11403, 11404, 11409, 11405, 11406, 11407, 11408, 11413, 11414, 11415, 11416, 11417, 11418, 11420, 11421, 11422, 11423, 11424, 11425, 11426, 11427, 11428, 11429, 11430, 11431, 11432, 11433, 11434, 11435, 11436, 11437, 11438, 11439, 11440, 11441, 11442, 11443, 11444, 11445, 11446, 11447, 11448, 3257, 3258, 11450, 11451, 3261, 11452, 11453, 11454, 11456, 11457, 11458, 11459, 11460, 11462, 11463, 11464, 11465, 11466, 3266, 11468, 11469, 11470, 11471, 11472, 11467, 11473, 11474, 11475, 11476, 11478, 11477, 11479, 11481, 11482, 11483, 11484, 11480, 11486, 11487, 11485, 11488, 3324, 3325, 3326, 3327, 19714, 3331, 11523, 11524, 11525, 11526, 11527, 11528, 19715, 11530, 11531, 11532, 11534, 11533, 11535, 11536, 11537, 11538, 11539, 11541, 11542, 11543, 11540, 11545, 11546, 3356, 3357, 3358, 11548, 11549, 11553, 11547, 11550, 11551, 11552, 11554, 11555, 11556, 11557, 11561, 11562, 11558, 11559, 11560, 11563, 11564, 11565, 19782, 19783, 19784, 19785, 19786, 11597, 11598, 11599, 11600, 11601, 11602, 19841, 19842, 19843, 19844, 19417, 19888, 19889, 19890, 19891, 19422, 19424, 19426, 19427, 19428, 19429, 11297, 11298, 11299, 11300, 3620, 20026, 20027, 20028, 20029, 20030, 20031, 20032, 20033, 20034, 20035, 20036, 20037, 20038, 20039, 20040, 20041, 20066, 20067, 20068, 20069, 20070, 20071, 20093, 20096, 20099, 20102, 20105, 20108, 20111, 20114, 20117, 20120, 20123, 20126, 20129, 20132, 20135, 20138, 20141, 20144, 20147, 20153, 20156, 20159, 20162, 20165, 20169, 20170, 25991, 26003, 20293, 20294, 20295, 20296, 24396, 16205, 16206, 16208, 16209, 16211, 16212, 20309, 16214, 20310, 20312, 20311, 16216, 16217, 16221, 16215, 16218, 16222, 16225, 16224, 16227, 16228, 16230, 16231, 16232, 16233, 16234, 9601, 9602, 23442, 20399, 20400, 20401, 20403, 20404, 9603, 20406, 20408, 20409, 23443, 9604, 23444, 3255, 9605, 3252, 3253, 23445, 16377, 16378, 16379, 3256, 16235, 16328, 16326, 16327, 16334, 16335, 16219, 16332, 16336, 16325, 16331, 16329, 16330, 16333
    ]
    INCLUDE_BIRTH_PREV = [
        2855, 1972, 1973, 1974, 19781, 19782, 19783, 19784, 19785, 19786, 1606, 1607, 16324,
        20169, 10315, 10317, 10318
    ]


class Params:
    AGE_GROUP_ID = "age_group_id"
    DB_ENV = "db_env"
    DECOMP_STEP = "decomp_step"
    DECOMP_STEP_ID = "decomp_step_id"
    DESCRIPTION = "description"
    EPIC_START_NODE = "EPIC_START"
    GBD_ROUND_ID = "gbd_round_id"
    INPUT_DIR = "input_dir"
    OUTPUT_DIR = "output_dir"
    INPUT_FILE_PATTERN = "input_file_pattern"
    LOCATION_ID = "location_id"
    LOWER = "lower"
    MEASURE_ID = "measure_id"
    MODELABLE_ENTITY_ID = "modelable_entity_id"
    MODEL_VERSION_ID = "model_version_id"
    MODEL_VERSION_STATUS_ID = "model_version_status_id"
    MEAN = "mean"
    N_DRAWS = "n_draws"
    BEST = "best"
    UPLOAD_SUMMARIES = "upload_summaries"
    VERSION = "version"
    TEN = "n_draws_ten"
    ONE_HUNDRED = "n_draws_one_hundred"
    ONE_THOUSAND = "n_draws_one_thousand"
    PARENT_DIR = "parent_dir"
    SEX_ID = "sex_id"
    UPPER = "upper"
    YEAR_ID = "year_id"

    DESCRIPTION_MAP = {
        10: TEN,
        100: ONE_HUNDRED,
        1000: ONE_THOUSAND
    }

    EPIC_USERNAME = 'svcepic'
    DEFAULT_N_DRAWS = 1000


class Process:
    COMO = "como"


class ModelVersionStatus(enum.IntEnum):
    """Model version statuses."""
    RUNNING = -1
    SUBMITTED = 0
    CURRENT_BEST = 1
    ACTIVE = 2
    DELETE = 3
    SOFT_SHELL_DELETED = 6
    FAILED = 7
